---
interface Props {
  foto: string;
  nombres: string;
  apellidos: string;
  identificacion: string;
  tipo_sangre: string;
  rol: string;    
}
const {foto, nombres, apellidos, identificacion, tipo_sangre, rol} = Astro.props;
let rojo = "#d53b00";
// Convierte el nombre a minúsculas
const nombresLowerCase = nombres.toLowerCase();
---

<style id="INLINE_PEN_STYLESHEET_ID">
  h1,
  h2,
  h3,
  h4,
  p {
    color: #ffffff;
    font-family: Arial, sans-serif;
  }

  // HEADER
  .header {
    text-align: center;
    span {
      padding-right: 5px;
    }
  }

  // CARD
  .cards-wrapper {
    margin-top: 50px;
  }
  .card-container {
    perspective: 1200px;
  }
  .card {
    margin: 0 auto;
    height: 500px;
    width: 500px;
    max-width: 80%;
    position: relative;
    border-radius: 8px;
    transition: all 1s ease;
    transform-style: preserve-3d;
    box-shadow: 1px 3px 3px rgba(0, 0, 0, 0.2);
  }

  .rotated {
    transform: rotateY(-180deg);
  }
  .card-contents {
    width: 7.5cm;
    height: 11.5cm;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    text-align: center;
    position: absolute;
    top: 0;
    left: 0;
    backface-visibility: hidden;
    h2,
    p {
      text-shadow: 1px 2px 2px rgba(0, 0, 0, 0.2);
    }
    h2 {
      font-size: 3em;
      margin: 0 auto;
    }
    hr {
      width: 50%;
      margin: 20px auto;
    }
    p {
      margin: 0 auto;
    }
  }
  .card-depth {
    transform: translateZ(2px) scale(1);
    perspective: inherit;
    overflow: hidden;
    border-radius: 8px;
  }
  .card-front {
    background: linear-gradient(to top left, #1A3484, #1A3484);
    transform-style: preserve-3d;
  }
  .card-back {
    transform: rotateY(180deg);
    background: linear-gradient(to top left, #ffffff, #ffffff);
    transform-style: preserve-3d;
    background-image: url(https://simca.unicauca.edu.co/simca/resources/images/antorcha.png);
    background-position-x: 100px;
    background-position-y: 100px;
    background-color: white;
    background-repeat: no-repeat;
  }
</style>

<div class="card rotated rounded-[3px] " style="width: 7.5cm; height: 11.5cm;">
  <div class="card-contents card-back">
    <div
      class="card-depth flex flex-col items-center text-black h-full"
      style="width: 100%; padding: 0; margin: 0px;"
    >
      <!-- header -->
      <div class="flex-1 w-full relative" style="max-height: 106px; ">
        <div
          class=`bg-rojo flex justify-end w-full px-4 pt-2 h-[40px] `
        >
        
        </div>
        <span
          class="w-full flex flex-row gap-5 p-2 justify-start"
          style="min-width: 100%; background: #1d3585; padding-top: 3px; padding-left: 30px; height: 70px;
        background: linear-gradient(88deg, #1A3484, #1a3485 40%, #1a348599);"
        >
          <span
            class="absolute"
            style="min-width: 120px;
      height: 90px;
      background: #1d3585;
      position: absolute;
      z-index: 0;
      margin-left: -24px;
      margin-top: -14px;
      border-radius: 100%;"
          >
          </span>
          <img
            class=""
            src="https://simca.unicauca.edu.co/simca/resources/images/logo.png"
            alt=""
            style="filter: invert(0); width: 160px; padding-left: 1px;"
          />
        </span>
      </div>
      <!-- picture -->
      <div class="flex-1 h-[30%] overflow-hidden" style="height: 30%;">
        <span
          class="overflow-hidden relative"
          style="width: 100px;height: 130px;"
        >
          <img
            class="mb-3 block rounded-xs shadow-lg"
            src={foto}
            alt="person image"
            style="width: 2.8cm; height:3.7cm; margin: 20px"
          />
        </span>
      </div>
      <!-- footer -->
      <div
        class="flex-1 h-[30%] overflow-hidden flex flex-col w-full"
        style="height: 30%;"
      >
      <h5 class="mb-0 text-xl  capitalize">{nombresLowerCase}</h5>
        <h5 class="mb-0 text-xl uppercase">{apellidos}</h5>
        <span class="text-sm text-black">{identificacion}</span>
        <span class="text-sm text-black">RH. {tipo_sangre}</span>
        <div>
          <span class=`flex flex-row bg-rojo`  >
            <div class="flex-1 flex flex-row" style="max-width: 20%;">
              <span
                class="w-1 h-full block bg-amarillo ml-[20px]"
                >
              </span>
              <span
                class="w-8 h-full block bg-amarillo ml-[2px]">
             
              </span>
            </div>
            <div class="flex-1">
              <h6
                class="pt-2 pb-2 pl-2 pr-2 text-xl uppercase w-full text-black font-bold"
                style="text-align: center; background:#d53b00; "
              >
                {rol}
              </h6>
            </div>
            <div class="flex-1 flex flex-row" style="max-width: 20%;"></div>
          </span>

          <span
            class="w-full h-full block"
            style="background: #1d3585; width: 100%;"></span>
        </div>
      </div>
    </div>
  </div>
  <div class="card-contents card-front">
    <div class="card-depth">
      <h2 class="" style="font-size: 2.5rem;">QR Autenticación</h2>
      <hr />
      <p>Volver al frente</p>
    </div>
  </div>
</div>

<script is:inline >
  
 const card = document.querySelector('.card');

function clickRotate() {
  card.classList.toggle('rotated');
}
card.addEventListener('click', clickRotate);


  window.addEventListener("DOMContentLoaded", function () {
    
 });
  document.addEventListener("astro:after-swap", () => {
     
  });
</script>
